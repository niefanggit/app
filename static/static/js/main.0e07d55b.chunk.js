(this["webpackJsonpbasketball-web"]=this["webpackJsonpbasketball-web"]||[]).push([[0],{37:function(e,t,n){},39:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),s=n.n(c),o=(n(37),n(17)),i=n(9),u=n.n(i),l=n(13),f=n(7),p=(n.p,n(39),n(40),n(18)),h=n.n(p),b=n(27),j=n(3),m=function(e){var t=e.dataList,n=(e.gameId,Object(a.useRef)(null)),r=Object(a.useState)(null),c=Object(f.a)(r,2),s=c[0],o=c[1];Object(a.useEffect)((function(){n.current&&o(b.a(n.current))}),[]);var i=function(e){var t=[];if(0!=e.length)for(var n=["red","green","blue","black"],a=0,r=0;r<e.length;r++)r!==e.length-1&&e[r].quarter==e[a].quarter||(t.push({gte:a,lt:r,color:n[t.length]}),a=r);else t.push({lte:100,color:"red"}),t.push({gt:100,lte:200,color:"green"}),t.push({gt:200,lte:300,color:"red"}),t.push({gt:300,color:"black"});return t};return Object(a.useEffect)((function(){if(0!==t.length){var e=function(e){for(var t=0,n=500,a=0;a<e.length;a++)e[a].totalScore>t&&(t=e[a].totalScore),e[a].totalScore<n&&(n=e[a].totalScore);return{min:Math.floor(n-(t-n)/5),max:Math.ceil(t+(t-n)/5)}}(t),n={tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",boundaryGap:!1,data:t.map((function(e){return h()(new Date(e.time)).format("h:mm:ss")}))},yAxis:{type:"value",min:e.min,max:e.max,position:"left"},visualMap:{show:!1,dimension:0,pieces:i(t)},series:[{name:"\u603b\u5f97\u5206",type:"line",data:t.map((function(e){return e.totalScore}))}]};null===s||void 0===s||s.setOption(n)}}),[s,t]),Object(j.jsx)("div",{ref:n,style:{width:"100%",height:400}})},d=n(50),g=n(51),x="182.92.223.34";var v=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({}),s=Object(f.a)(c,2),i=s[0],p=s[1];return Object(a.useEffect)((function(){setInterval(Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://".concat(x,":8080/gameList"));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r(n.info),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])}))),2e3)}),[]),Object(a.useEffect)(Object(l.a)(u.a.mark((function e(){var t,a,r,c,s,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},a=Object(o.a)(n),e.prev=2,a.s();case 4:if((r=a.n()).done){e.next=21;break}return c=r.value,e.prev=6,s=c.gameId,e.next=10,fetch("http://".concat(x,":8080/game/").concat(s));case 10:return i=e.sent,e.next=13,i.json();case 13:l=e.sent,t[s]=l,e.next=19;break;case 17:e.prev=17,e.t0=e.catch(6);case 19:e.next=4;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(2),a.e(e.t1);case 26:return e.prev=26,a.f(),e.finish(26);case 29:p(t);case 30:case"end":return e.stop()}}),e,null,[[2,23,26,29],[6,17]])}))),[n]),Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(d.a,{gutter:16,margin:0,children:n.map((function(e){return Object(j.jsxs)(g.a,{className:"gutter-row",style:{marginBottom:10},xs:{span:24},sm:{span:12},xl:{span:8},children:[Object(j.jsx)("header",{children:e.name}),Object(j.jsxs)("header",{children:[Object(j.jsx)("span",{style:{marginRight:10,color:"#0066cc"},children:e.homeName}),"VS",Object(j.jsx)("span",{style:{marginLeft:10,color:"#cc0000"},children:e.awayName})]}),Object(j.jsx)(m,{gameId:e.gameId,dataList:i[e.gameId]||[]})]})}))})})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root")),O()}},[[43,1,2]]]);
//# sourceMappingURL=main.0e07d55b.chunk.js.map