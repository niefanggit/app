(this["webpackJsonpbasketball-web"]=this["webpackJsonpbasketball-web"]||[]).push([[0],{37:function(e,t,n){},39:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),s=n.n(c),o=(n(37),n(17)),i=n(9),u=n.n(i),l=n(13),h=n(7),p=(n.p,n(39),n(40),n(18)),f=n.n(p),b=n(27),g=n(3),j=function(e){var t=e.dataList,n=(e.gameId,Object(a.useRef)(null)),r=Object(a.useState)(null),c=Object(h.a)(r,2),s=c[0],o=c[1];Object(a.useEffect)((function(){n.current&&o(b.a(n.current))}),[]);var i=function(e){var t=[];if(0!=e.length)for(var n=["red","green","blue","yellow"],a=0,r=0;r<e.length;r++)r!==e.length-1&&e[r].quarter==e[a].quarter||(t.push({gte:a,lt:r,color:n[t.length]}),a=r);else t.push({lte:100,color:"red"}),t.push({gt:100,lte:200,color:"green"}),t.push({gt:200,lte:300,color:"red"}),t.push({gt:300,color:"red"});return t};return Object(a.useEffect)((function(){if(0!==t.length){var e={tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",boundaryGap:!1,data:t.map((function(e){return f()(new Date(e.time)).format("h:mm:ss")}))},yAxis:{type:"value"},visualMap:{show:!1,dimension:0,pieces:i(t)},series:[{name:"\u603b\u5f97\u5206",type:"line",smooth:!0,data:t.map((function(e){return e.totalScore}))}]};null===s||void 0===s||s.setOption(e)}}),[s,t]),Object(g.jsx)("div",{ref:n,style:{width:"100%",height:400}})},d=n(50),m=n(51),x="localhost";var v=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({}),s=Object(h.a)(c,2),i=s[0],p=s[1];return Object(a.useEffect)((function(){setInterval(Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://".concat(x,":8080/gameList"));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r(n.info),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])}))),2e3)}),[]),Object(a.useEffect)(Object(l.a)(u.a.mark((function e(){var t,a,r,c,s,i,l,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},a=Object(o.a)(n),e.prev=2,a.s();case 4:if((r=a.n()).done){e.next=23;break}return c=r.value,e.prev=6,s=c.gameId,e.next=10,fetch("http://".concat(x,":8080/game/").concat(s));case 10:return i=e.sent,e.next=13,i.json();case 13:l=e.sent,h=[],l.forEach((function(e,t){(0===t||h[h.length-1].totalScore!=e.totalScore||h[h.length-1].quarter!=e.quarter||new Date(e.time).getTime()-new Date(h[h.length-1].time).getTime()>=59500)&&h.push(e)})),t[s]=h,e.next=21;break;case 19:e.prev=19,e.t0=e.catch(6);case 21:e.next=4;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(2),a.e(e.t1);case 28:return e.prev=28,a.f(),e.finish(28);case 31:p(t);case 32:case"end":return e.stop()}}),e,null,[[2,25,28,31],[6,19]])}))),[n]),Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(d.a,{gutter:16,margin:0,children:n.map((function(e){return Object(g.jsxs)(m.a,{className:"gutter-row",style:{marginBottom:10},xs:{span:24},sm:{span:12},xl:{span:8},children:[Object(g.jsx)("header",{children:e.name}),Object(g.jsxs)("header",{children:[Object(g.jsx)("span",{style:{marginRight:10,color:"#0066cc"},children:e.homeName}),"VS",Object(g.jsx)("span",{style:{marginLeft:10,color:"#cc0000"},children:e.awayName})]}),Object(g.jsx)(j,{gameId:e.gameId,dataList:i[e.gameId]||[]})]})}))})})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(v,{})}),document.getElementById("root")),O()}},[[43,1,2]]]);
//# sourceMappingURL=main.5910deb1.chunk.js.map